<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–î–ª—è –ú–∞—Ä‚Äô—è–Ω–∏ üíò</title>

  <style>
    :root{
      --pink:#ff4d6d;
      --bg1:#ffd6e7;
      --bg2:#ffffff;
      --text:#3a0b1a;

      --wa-bg:#e5ddd5;
      --wa-header:#075e54;
      --wa-accent:#25d366;
      --wa-bubble-in:#ffffff;
      --wa-bubble-out:#dcf8c6;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:linear-gradient(180deg,var(--bg1),var(--bg2));
      color:var(--text);

      overflow-x:hidden;
      overflow-y:auto;
      scroll-behavior:smooth;

      transition:background 1.2s ease;
    }

    body.love{
      background:radial-gradient(circle at center,#ffe3ef 0%,#ffd6e7 40%,#ffffff 100%);
    }

    /* ===== WhatsApp Intro ===== */

    .phone{
      width:min(520px,92vw);
      border-radius:26px;
      overflow:hidden;
      box-shadow:0 18px 50px rgba(0,0,0,.18);
      background:var(--wa-bg);
      position:relative;
      z-index:3;
    }

    .wa-header{
      background:var(--wa-header);
      color:#fff;
      padding:14px;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .wa-back{
      width:28px;height:28px;
      border-radius:999px;
      display:grid;place-items:center;
      background:rgba(255,255,255,.12);
      font-weight:700;
    }

    .wa-avatar{
      width:34px;height:34px;
      border-radius:999px;
      background:rgba(255,255,255,.18);
      display:grid;place-items:center;
      font-weight:700;
    }

    .wa-title strong{ font-size:15px; }
    .wa-title span{ font-size:12px; opacity:.85; }

    .wa-chat{ padding:14px; min-height:320px; }

    .bubble{
      max-width:84%;
      padding:10px 12px;
      border-radius:16px;
      margin:10px 0;
      box-shadow:0 6px 14px rgba(0,0,0,.10);
      font-size:15px;
    }

    .in{ background:var(--wa-bubble-in); }
    .out{ background:var(--wa-bubble-out); margin-left:auto; }

    .wa-footer{
      padding:14px;
      display:flex;
      justify-content:center;
    }

    .openBtn{
      border:0;
      padding:12px 16px;
      border-radius:14px;
      font-size:16px;
      cursor:pointer;
      background:var(--wa-accent);
      font-weight:700;
      box-shadow:0 10px 20px rgba(0,0,0,.14);
    }

    .hidden{ display:none!important; }

    /* ===== Valentine Card ===== */

    #hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1;
      overflow:hidden;
    }

    .card{
      width:min(520px,92vw);
      padding:22px 18px 24px;
      text-align:center;
      background:rgba(255,255,255,.9);
      border-radius:22px;
      box-shadow:0 18px 50px rgba(0,0,0,.12);
      position:relative;
      z-index:2;
      margin:20px 0 40px;
    }

    .dog{
      width:210px;
      max-width:58vw;
      display:block;
      margin:6px auto 10px;
      transition:transform 1.2s ease;
    }
    .dog.love{ transform:scale(1.08); }

    h1{
      font-size:clamp(22px,4.8vw,30px);
      margin:10px 0 14px;
    }

    .buttons{
      position:relative;
      height:96px;
      display:grid;
      place-items:center;
      margin-bottom:10px;
    }

    .btnArena{
      position:relative;
      width:min(440px,92vw);
      height:80px;
    }

    .btnRow{
      position:absolute;
      inset:0;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:0 10px;
    }

    button{
      border:0;
      padding:12px 18px;
      border-radius:14px;
      font-size:18px;
      cursor:pointer;
      min-width:130px;
      box-shadow:0 10px 20px rgba(0,0,0,.12);
    }

    #yes{ background:var(--pink); color:#fff; z-index:3; }

    #no{
      background:#e6e6e6;
      position:absolute;
      z-index:2;
    }

    #message{
      margin-top:14px;
      padding:14px;
      border-radius:18px;
      background:rgba(255,255,255,.97);
      font-size:18px;
      line-height:1.4;
      display:none;
      animation:fadeIn 1.2s ease forwards;
    }

    @keyframes fadeIn{
      from{opacity:0;transform:translateY(10px);}
      to{opacity:1;transform:translateY(0);}
    }

    #couple{
      width:100%;
      max-width:340px;
      margin:18px auto 0;
      display:none;
      border-radius:18px;
      box-shadow:0 12px 30px rgba(0,0,0,.18);
      animation:fadeIn 1.6s ease forwards;
      transform:scale(.96);
      transition:transform 2s ease;
    }
    #couple.love{ transform:scale(1); }

    .heart{
      position:absolute;
      top:-40px;
      font-size:22px;
      animation:fall linear forwards;
    }

    @keyframes fall{
      to{
        transform:translate(var(--dx),110vh) rotate(var(--rot));
        opacity:.05;
      }
    }
  </style>
</head>

<body>

<div id="hearts"></div>

<!-- WhatsApp Intro -->
<section class="phone" id="intro">
  <div class="wa-header">
    <div class="wa-back">‚Äπ</div>
    <div class="wa-avatar">–ú</div>
    <div class="wa-title">
      <strong>–ú–∞—Ä‚Äô—è–Ω–∞</strong><br>
      <span>–æ–Ω–ª–∞–π–Ω</span>
    </div>
  </div>

  <div class="wa-chat">
    <div class="bubble in">–ü—Ä–∏–≤—ñ—Ç üôÇ</div>
    <div class="bubble out">–ü—Ä–∏–≤—ñ—Ç, –ú–∞—Ä‚Äô—è–Ω–æ üíõ</div>
    <div class="bubble out">–£ –º–µ–Ω–µ —î –º–∞–ª–µ–Ω—å–∫–µ –ø–∏—Ç–∞–Ω–Ω—è‚Ä¶</div>
    <div class="bubble in">–Ø–∫–µ? üòÑ</div>
    <div class="bubble out">–í—ñ–¥–∫—Ä–∏–π, –±—É–¥—å –ª–∞—Å–∫–∞ üëá</div>
  </div>

  <div class="wa-footer">
    <button class="openBtn" id="openCard">–í—ñ–¥–∫—Ä–∏—Ç–∏ üíò</button>
  </div>
</section>

<!-- Valentine Card -->
<main class="card hidden" id="card">

  <img class="dog" id="dog"
       src="https://i.ibb.co/Q316yGJb/frenchie.png"
       alt="Frenchie" />

  <h1>–ú–∞—Ä‚Äô—è–Ω–æ, —Ç–∏ –±—É–¥–µ—à –º–æ—î—é –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ—é? üíò</h1>

  <section class="buttons">
    <div class="btnArena" id="arena">
      <div class="btnRow">
        <button id="yes">–¢–ê–ö üíñ</button>
        <button id="no">–ù—ñ üôà</button>
      </div>
    </div>
  </section>

  <div id="message">
    –£—Ä–∞! ü•∞<br>
    –Ø –¥—É–∂–µ —Ç–µ–±–µ –ª—é–±–ª—é, –ú–∞—Ä‚Äô—è–Ω–æ.<br>
    –Ø –≤–¥—è—á–Ω–∏–π —ñ —â–∞—Å–ª–∏–≤–∏–π, —â–æ —Ç–∏ —î –≤ –º–æ—î–º—É –∂–∏—Ç—Ç—ñ.<br>
    –¢–≤—ñ–π –•–æ–ª—å–≥–µ—Ä ‚ù§Ô∏è

    <img id="couple"
         src="https://i.ibb.co/Q7WVbpJY/MH2025.png"
         alt="–ú–∏ —Ä–∞–∑–æ–º üíû" />
  </div>

</main>

<script>
const intro=document.getElementById("intro");
const card=document.getElementById("card");
const openCardBtn=document.getElementById("openCard");

const arena=document.getElementById("arena");
const noBtn=document.getElementById("no");
const yesBtn=document.getElementById("yes");
const msg=document.getElementById("message");
const heartsLayer=document.getElementById("hearts");
const dog=document.getElementById("dog");
const couple=document.getElementById("couple");

openCardBtn.onclick=()=>{
  intro.classList.add("hidden");
  card.classList.remove("hidden");
  // ensure layout is computed
  requestAnimationFrame(startNoNextToYes);
};

function placeNoRandom(){
  const a=arena.getBoundingClientRect();
  const pad=6;
  const x=pad + Math.random()*Math.max(0,(a.width-noBtn.offsetWidth-pad));
  const y=pad + Math.random()*Math.max(0,(a.height-noBtn.offsetHeight-pad));
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";
}

arena.onpointermove=e=>{
  const r=noBtn.getBoundingClientRect();
  const cx=r.left+r.width/2;
  const cy=r.top+r.height/2;
  if(Math.hypot(e.clientX-cx,e.clientY-cy)<110) placeNoRandom();
};

noBtn.onpointerdown=e=>{
  e.preventDefault();
  placeNoRandom();
};

/* ‚úÖ FIX: place "–ù—ñ" directly next to the "–¢–ê–ö" button (works on iPhone widths) */
function startNoNextToYes(){
  const yesRect = yesBtn.getBoundingClientRect();
  const arenaRect = arena.getBoundingClientRect();
  const spacing = 12;

  const x = (yesRect.right - arenaRect.left) + spacing;
  const y = (arenaRect.height - noBtn.offsetHeight) / 2;

  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
}

function spawnHeart(){
  const h=document.createElement("div");
  h.className="heart";
  h.textContent=Math.random()<0.5?"üíñ":"üíò";
  h.style.left=Math.random()*100+"vw";
  h.style.setProperty("--dx",(Math.random()*60-30)+"vw");
  h.style.setProperty("--rot",(Math.random()*360-180)+"deg");
  h.style.animationDuration=(Math.random()*1.6+1.8)+"s";
  heartsLayer.appendChild(h);
  setTimeout(()=>h.remove(),4500);
}

let rain=null;

yesBtn.onclick=()=>{
  msg.style.display="block";
  document.body.classList.add("love");
  dog.classList.add("love");

  couple.style.display="block";
  setTimeout(()=>couple.classList.add("love"),50);

  if(!rain){
    rain=setInterval(spawnHeart,120);
    setTimeout(()=>{clearInterval(rain); rain=null;},5200);
  }

  noBtn.disabled=true;
  noBtn.style.opacity=.4;
};
</script>

</body>
</html>
